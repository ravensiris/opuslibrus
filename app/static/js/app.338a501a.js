(function(t){function e(e){for(var a,s,c=e[0],o=e[1],l=e[2],f=0,v=[];f<c.length;f++)s=c[f],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&v.push(r[s][0]),r[s]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);u&&u(e);while(v.length)v.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,c=1;c<n.length;c++){var o=n[c];0!==r[o]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},i=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0643":function(t,e,n){"use strict";var a=n("20a7"),r=n.n(a);r.a},"171a":function(t,e,n){},"20a7":function(t,e,n){},2830:function(t,e,n){"use strict";var a=n("171a"),r=n.n(a);r.a},"2d28":function(t,e,n){"use strict";var a=n("9f85"),r=n.n(a);r.a},"3c3c":function(t,e,n){},"4a35":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return s}));n("99af"),n("0d03"),n("d3b7"),n("25f0");var a=n("9f12"),r=n("53fe"),i=n("bc3a").default;i.defaults.baseURL="/api";var s=function(){function e(){Object(a["a"])(this,e)}return Object(r["a"])(e,[{key:"getToken",value:function(e,n){var a="Basic "+t.from("".concat(e,":").concat(n)).toString("base64");return i.get("/token/get",{headers:{Authorization:a}})}},{key:"getTimetable",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&(e="/".concat(e)),i.get("/timetable/get".concat(e),{headers:{"X-API-KEY":t}})}},{key:"checkToken",value:function(t){return!!t&&i.get("/token/check",{headers:{"X-API-KEY":t}})}}]),e}()}).call(this,n("b639").Buffer)},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Navbar",t._b({},"Navbar",t.nav,!1)),n("router-view",{staticStyle:{"padding-top":"5rem"}})],1)},i=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar"},[n("div",{staticClass:"title"},[t._v(t._s(t.title))]),t._m(0)])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"action"},[n("a",{attrs:{href:"#"}},[t._v("Home")]),n("a",{attrs:{href:"#"}},[t._v("Login")])])}],o={props:{title:String}},l=o,u=(n("874e"),n("2877")),f=Object(u["a"])(l,s,c,!1,null,"24630788",null),v=f.exports,d={name:"app",components:{Navbar:v},data:function(){return{nav:v}}},p=d,m=(n("5c0b"),Object(u["a"])(p,r,i,!1,null,null,null)),h=m.exports,g=n("8c4f"),b=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},_=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v("home")])])}],w={created:function(){this.$parent.nav.title="Home"}},y=w,k=Object(u["a"])(y,b,_,!1,null,null,null),D=k.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"login-page",on:{submit:function(e){return e.preventDefault(),t.checkForm(e)}}},[n("div",{staticClass:"centered"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",name:"username",id:"username",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password",id:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._m(0)])},O=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bottomed"},[n("input",{attrs:{type:"submit",value:"LOG IN"}})])}],C=n("4a35"),x=new C["a"],E={data:function(){return{username:null,password:null,router:this.$router}},methods:{checkForm:function(){var t=this;this.username&&this.password&&x.getToken(this.username,this.password).then((function(e){localStorage.token=e.data.token,t.router.push("/")})).catch((function(t){t.response.data.message&&alert(t.response.data.message)}))}},beforeCreate:function(){var t=this;localStorage.token&&x.checkToken(localStorage.token).then((function(e){e.data.valid&&t.$router.push("/")}))},created:function(){this.$parent.nav.title="Log in"}},j=E,$=(n("70ec"),Object(u["a"])(j,S,O,!1,null,"5e0c5b3a",null)),T=$.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("Spinner"):t._e(),t.dayEmpty?n("EmptyInfo"):t._e(),t.loading?t._e():n("div",{staticClass:"timetable",attrs:{id:"timetable"}},[7===t.weekDays.length?n("div",{staticClass:"daySelectors"},[n("DaySelect",{attrs:{numeric:t.weekDays[0].getDate(),literal:"MON",isActive:0==t.now},nativeOn:{click:function(e){t.now=0}}}),n("DaySelect",{attrs:{numeric:t.weekDays[1].getDate(),literal:"TUE",isActive:1==t.now},nativeOn:{click:function(e){t.now=1}}}),n("DaySelect",{attrs:{numeric:t.weekDays[2].getDate(),literal:"WED",isActive:2==t.now},nativeOn:{click:function(e){t.now=2}}}),n("DaySelect",{attrs:{numeric:t.weekDays[3].getDate(),literal:"THU",isActive:3==t.now},nativeOn:{click:function(e){t.now=3}}}),n("DaySelect",{attrs:{numeric:t.weekDays[4].getDate(),literal:"FRI",isActive:4==t.now},nativeOn:{click:function(e){t.now=4}}}),n("DaySelect",{attrs:{numeric:t.weekDays[5].getDate(),literal:"SAT",isActive:5==t.now},nativeOn:{click:function(e){t.now=5}}}),n("DaySelect",{attrs:{numeric:t.weekDays[6].getDate(),literal:"SUN",isActive:6==t.now},nativeOn:{click:function(e){t.now=6}}})],1):t._e(),n("div",{staticClass:"pusher"}),t._l(t.timetable,(function(e){return n("TimetableRow",{key:"d"+e.day.toString()+"l"+e.index.toString(),attrs:{time:t.toTime(e.start),icon:t.getIcon(e.start,e.break_start),title:e.name,breakDuration:t.getDuration(e.break_end,e.break_start),teacher:e.teacher,room:"Room "+e.room,flag:e.flag,visible:e.day==t.now}})})),t.tail?n("TimetableRow",{attrs:{time:t.toTime(t.tail.break_start),icon:"end",info:!1}}):t._e()],2)],1)},I=[],P=(n("4de4"),n("13d5"),n("0d03"),n("d3b7"),n("25f0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid",class:{short:!t.info,hidden:!t.visible}},[n("div",{staticClass:"time"},[t._v(t._s(t.time))]),n("Icon",{attrs:{icon:t.icon,size:"normal"}}),n("div",{staticClass:"title"},[t._v(t._s(t.title))]),t.info?n("div",{staticClass:"break-time"},[t._v(t._s(t.breakDuration)+" mins")]):t._e(),t.info?n("div",{staticClass:"line"}):t._e(),t.info?n("div",{staticClass:"info"},[t.teacher?n("div",{staticClass:"cluster"},[n("Icon",{attrs:{icon:"person",size:"small"}}),n("span",[t._v(t._s(t.teacher))])],1):t._e(),t.room?n("div",{staticClass:"cluster"},[n("Icon",{attrs:{icon:"location_pin",size:"small"}}),n("span",[t._v(t._s(t.room))])],1):t._e(),t.flag?n("div",{staticClass:"flag"},[t._v(t._s(t.flag))]):t._e()]):t._e()],1)}),N=[],z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icon",class:t.icon+" "+t.size})},B=[],M={props:{icon:String,size:String}},R=M,U=(n("2830"),Object(u["a"])(R,z,B,!1,null,"b009bf20",null)),L=U.exports,F={components:{Icon:L},props:{time:String,icon:String,title:String,breakDuration:String,teacher:String,room:String,flag:String,info:{default:!0,type:Boolean},visible:{default:!0,type:Boolean}},watch:{visible:function(t){this.visible=t}}},H=F,J=(n("6ca3"),Object(u["a"])(H,P,N,!1,null,"d45b2598",null)),K=J.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"center"},[n("svg",{staticClass:"checkmark",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"}},[n("circle",{staticClass:"checkmark__circle",attrs:{cx:"26",cy:"26",r:"25",fill:"none"}}),n("path",{staticClass:"checkmark__check",attrs:{fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"}})])])},Y=[],G={},W=G,q=(n("2d28"),Object(u["a"])(W,X,Y,!1,null,"4b3adf4e",null)),Q=q.exports,V=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Z=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"center"},[n("div",{staticClass:"sbl-rect-spin-fill"})])}],tt={},et=tt,nt=(n("d45f"),Object(u["a"])(et,V,Z,!1,null,"73b270c2",null)),at=nt.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"day"},[n("div",{staticClass:"numeric",class:{active:t.isActive}},[t._v(" "+t._s(t.numeric)+" ")]),t.isActive?n("div",{staticClass:"literal"},[t._v(" "+t._s(t.literal)+" ")]):t._e()])},it=[],st=(n("a9e3"),{props:{isActive:Boolean,numeric:Number,literal:String}}),ct=st,ot=(n("8553"),Object(u["a"])(ct,rt,it,!1,null,"c2040a4e",null)),lt=ot.exports,ut=new C["a"],ft={data:function(){return{timetable:null,router:this.$router,now:0,tail:null,weekDays:[],loading:!0,dayEmpty:!1}},components:{TimetableRow:K,DaySelect:lt,Spinner:at,EmptyInfo:Q},mounted:function(){var t=this;localStorage.token||this.router.push("/login"),ut.getTimetable(localStorage.token).then((function(e){t.timetable=e.data.timetable,t.tail=t.getTail();var n=t.timetable.filter((function(t){return 0==t.day}));if(n)for(var a=Date.parse(n[0].start),r=0;r<=6;r++){var i=new Date(a+864e5*r);t.weekDays.push(i)}t.loading=!1})).catch((function(){}))},created:function(){this.$parent.nav.title="Classes"},methods:{toTime:function(t){var e=new Date(Date.parse(t));return e.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})},getTail:function(){var t=this,e=this.timetable.filter((function(e){return e.day==t.now}));return 0===e.length?(this.dayEmpty=!0,null):(this.dayEmpty=!1,e.reduce((function(t,e){return t.index>e.index?t:e})))},getDuration:function(t,e){return((Date.parse(t)-Date.parse(e))/1e3/60).toString()},getIcon:function(t,e){var n=Date.parse(e),a=Date.now(),r=a-n>=0;if(r)return"checkmark";var i=Date.parse(t),s=i-a<=n-i;return s?"checked":"unchecked"}},watch:{now:function(t){this.now=t,this.tail=this.getTail()}}},vt=ft,dt=(n("0643"),Object(u["a"])(vt,A,I,!1,null,"75f9cf09",null)),pt=dt.exports,mt=[{path:"/",component:pt},{path:"/h",component:D},{path:"/login",component:T},{path:"*",redirect:"/"}],ht=mt;a["a"].use(g["a"]);var gt=new g["a"]({mode:"history",routes:ht});new a["a"]({router:gt,render:function(t){return t(h)}}).$mount("#app")},"5b38":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var a=n("9c0c"),r=n.n(a);r.a},"61f5":function(t,e,n){},"6ca3":function(t,e,n){"use strict";var a=n("3c3c"),r=n.n(a);r.a},"70ec":function(t,e,n){"use strict";var a=n("8273"),r=n.n(a);r.a},8273:function(t,e,n){},8553:function(t,e,n){"use strict";var a=n("a903"),r=n.n(a);r.a},"874e":function(t,e,n){"use strict";var a=n("61f5"),r=n.n(a);r.a},"9c0c":function(t,e,n){},"9f85":function(t,e,n){},a903:function(t,e,n){},d45f:function(t,e,n){"use strict";var a=n("5b38"),r=n.n(a);r.a}});
//# sourceMappingURL=app.338a501a.js.map